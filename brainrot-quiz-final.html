<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì§„ì§œ ë¸Œë ˆì¸ë¡¯ ì´ë¦„ì„ ë§ì¶°ì¤˜</title>
    <style>
        :root {
            --color-white: rgba(255, 255, 255, 1);
            --color-black: rgba(0, 0, 0, 1);
            --color-cream-50: rgba(252, 252, 249, 1);
            --color-cream-100: rgba(255, 255, 253, 1);
            --color-gray-200: rgba(245, 245, 245, 1);
            --color-gray-300: rgba(167, 169, 169, 1);
            --color-gray-400: rgba(119, 124, 124, 1);
            --color-red-400: rgba(255, 84, 89, 1);
            --color-red-500: rgba(192, 21, 47, 1);
            --color-green-400: rgba(34, 197, 94, 1);
            --color-green-500: rgba(22, 163, 74, 1);
            --color-orange-400: rgba(230, 129, 97, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--color-green-400), var(--color-white), var(--color-red-400));
            min-height: 100vh;
            color: var(--color-black);
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .screen {
            display: none;
            width: 100%;
        }

        .screen.active {
            display: block;
        }

        .main-content {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .game-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 15px;
            background: linear-gradient(45deg, var(--color-green-500), var(--color-red-500));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .game-subtitle {
            font-size: 1.2rem;
            color: var(--color-gray-400);
            margin-bottom: 30px;
        }

        .mode-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin: 30px 0;
        }

        .mode-btn {
            background: var(--color-white);
            border: 3px solid var(--color-gray-200);
            border-radius: 15px;
            padding: 25px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .mode-btn:hover {
            border-color: var(--color-green-400);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(34, 197, 94, 0.2);
        }

        .mode-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .mode-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--color-black);
        }

        .mode-description {
            font-size: 0.85rem;
            color: var(--color-gray-400);
            line-height: 1.3;
        }

        .info-card {
            background: var(--color-cream-50);
            padding: 25px;
            border-radius: 15px;
            margin-top: 30px;
            text-align: left;
        }

        .info-card h3 {
            color: var(--color-black);
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .info-card ul {
            list-style: none;
        }

        .info-card li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            color: var(--color-gray-400);
        }

        .info-card li::before {
            content: "âœ…";
            position: absolute;
            left: 0;
            top: 8px;
        }

        .quiz-content {
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .quiz-header {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .progress-bar {
            height: 10px;
            background: var(--color-gray-200);
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-green-400), var(--color-green-500));
            transition: width 0.3s ease;
            width: 0%;
        }

        .question-card {
            margin-bottom: 30px;
        }

        .quiz-type {
            font-size: 1.5rem;
            color: var(--color-green-500);
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.6;
            color: var(--color-black);
        }

        .question-image {
            margin: 20px 0;
            text-align: center;
        }

        .question-image img {
            max-width: 350px;
            max-height: 350px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            object-fit: contain;
        }

        .character-emoji {
            font-size: 8rem;
            margin: 20px 0;
            display: block;
        }

        .image-error {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 15px;
            margin: 20px 0;
            border: 2px dashed var(--color-gray-300);
        }

        .image-error p {
            color: var(--color-gray-400);
            margin: 5px 0;
        }

        .image-error .emoji {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 30px;
        }

        .option-btn {
            background: var(--color-white);
            border: 2px solid var(--color-gray-300);
            border-radius: 12px;
            padding: 20px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option-btn:hover {
            border-color: var(--color-green-400);
            background: var(--color-green-400);
            color: var(--color-white);
            transform: translateY(-2px);
        }

        .option-btn.selected {
            background: var(--color-green-500);
            color: var(--color-white);
            border-color: var(--color-green-500);
        }

        .option-btn.correct {
            background: var(--color-green-500);
            color: var(--color-white);
            border-color: var(--color-green-500);
        }

        .option-btn.incorrect {
            background: var(--color-red-400);
            color: var(--color-white);
            border-color: var(--color-red-400);
        }

        .feedback-content {
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
        }

        .result-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .result-text {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .result-details {
            font-size: 1.1rem;
            color: var(--color-gray-400);
            margin-bottom: 30px;
        }

        .btn {
            background: var(--color-green-500);
            color: var(--color-white);
            border: none;
            border-radius: 12px;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .btn:hover {
            background: var(--color-green-400);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(34, 197, 94, 0.3);
        }

        .btn--secondary {
            background: var(--color-gray-400);
        }

        .btn--secondary:hover {
            background: var(--color-gray-300);
        }

        .result-content {
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
        }

        .final-score {
            margin: 30px 0;
        }

        .score-display {
            font-size: 3rem;
            font-weight: bold;
            color: var(--color-green-500);
            margin-bottom: 15px;
        }

        .score-grade {
            font-size: 1.5rem;
            color: var(--color-orange-400);
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .mode-buttons {
                grid-template-columns: 1fr;
            }
            
            .options {
                grid-template-columns: 1fr;
            }
            
            .game-title {
                font-size: 2rem;
            }
            
            .character-emoji {
                font-size: 6rem;
            }

            .question-image img {
                max-width: 280px;
                max-height: 280px;
            }
        }
    </style>
</head>
<body>
    <!-- ë©”ì¸ í™”ë©´ -->
    <div id="mainScreen" class="screen active">
        <div class="container">
            <div class="main-content">
                <div class="game-logo">
                    <h1 class="game-title">ğŸ‡®ğŸ‡¹ ì§„ì§œ ë¸Œë ˆì¸ë¡¯ ì´ë¦„ì„ ë§ì¶°ì¤˜ ğŸ§ </h1>
                    <p class="game-subtitle">ì´íƒˆë¦¬ì•ˆ ë¸Œë ˆì¸ë¡¯ ìºë¦­í„°ë“¤ì˜ ì§„ì§œ ì´ë¦„ì„ ë§ì¶°ë³´ì„¸ìš”!</p>
                </div>
                
                <div class="game-modes">
                    <h2 class="modes-title">ê²Œì„ ëª¨ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”</h2>
                    <div class="mode-buttons">
                        <button class="mode-btn text-mode" onclick="selectGameMode('text')">
                            <div class="mode-icon">ğŸ“</div>
                            <div class="mode-title">í…ìŠ¤íŠ¸ ë²„ì „</div>
                            <div class="mode-description">ì„¤ëª…, ëŠ¥ë ¥, íŠ¹ì§•ì„ ë³´ê³ <br>ìºë¦­í„° ì´ë¦„ì„ ë§ì¶°ë³´ì„¸ìš”!</div>
                        </button>
                        <button class="mode-btn emoji-mode" onclick="selectGameMode('emoji')">
                            <div class="mode-icon">ğŸ˜</div>
                            <div class="mode-title">ê·¸ë¦¼ ì—°ìƒ ë²„ì „</div>
                            <div class="mode-description">ìºë¦­í„° ì´ëª¨ì§€ë¥¼ ë³´ê³ <br>ì´ë¦„ì„ ë§ì¶°ë³´ì„¸ìš”!</div>
                        </button>
                        <button class="mode-btn image-mode" onclick="selectGameMode('image')">
                            <div class="mode-icon">ğŸ–¼ï¸</div>
                            <div class="mode-title">ê·¸ë¦¼ ë²„ì „</div>
                            <div class="mode-description">ì‹¤ì œ ìºë¦­í„° ì´ë¯¸ì§€ë¥¼ ë³´ê³ <br>ì´ë¦„ì„ ë§ì¶°ë³´ì„¸ìš”!</div>
                        </button>
                    </div>
                </div>
                
                <div class="game-info">
                    <div class="info-card">
                        <h3>ê²Œì„ ê·œì¹™</h3>
                        <ul>
                            <li>ì´ 10ë¬¸ì œì˜ ê°ê´€ì‹ í€´ì¦ˆ</li>
                            <li>ê° ë¬¸ì œë§ˆë‹¤ 4ê°œì˜ ì„ íƒì§€</li>
                            <li>ì •ë‹µì„ ë§ì¶° ìµœê³  ì ìˆ˜ë¥¼ ë…¸ë ¤ë³´ì„¸ìš”!</li>
                            <li>ëª¨ë“œ ì„ íƒ í›„ ì–¸ì œë“  ë‹¤ë¥¸ ëª¨ë“œë¡œ ì „í™˜ ê°€ëŠ¥</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- í€´ì¦ˆ í™”ë©´ -->
    <div id="quizScreen" class="screen">
        <div class="container">
            <div class="quiz-content">
                <div class="quiz-header">
                    <div class="progress-info">
                        <span class="question-number">ë¬¸ì œ <span id="currentQuestion">1</span> / 10</span>
                        <span class="score">ì ìˆ˜: <span id="currentScore">0</span></span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>
                
                <div class="question-card">
                    <h2 class="quiz-type" id="quizType">ë¬¸ì œ ìœ í˜•</h2>
                    <div class="question-text" id="questionText">ë¬¸ì œ ë‚´ìš©</div>
                    
                    <!-- ê·¸ë¦¼ ì—°ìƒ ë²„ì „ (ì´ëª¨ì§€) -->
                    <div class="question-image" id="questionEmojiImage" style="display: none;">
                        <span class="character-emoji" id="characterEmoji"></span>
                    </div>

                    <!-- ì‹¤ì œ ê·¸ë¦¼ ë²„ì „ (ì´ë¯¸ì§€) -->
                    <div class="question-image" id="questionRealImage" style="display: none;">
                        <img id="characterImage" src="" alt="ìºë¦­í„° ì´ë¯¸ì§€" onload="imageLoaded()" onerror="imageError()">
                        <div id="imageError" class="image-error" style="display: none;">
                            <div class="emoji">ğŸ–¼ï¸âŒ</div>
                            <p><strong>ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</strong></p>
                            <p>ì´ë¯¸ì§€ ëŒ€ì‹  ì„¤ëª…ìœ¼ë¡œ ë¬¸ì œë¥¼ í’€ì–´ì£¼ì„¸ìš”</p>
                            <div id="fallbackDescription" style="margin-top: 15px; padding: 15px; background: rgba(255,255,255,0.7); border-radius: 10px; font-style: italic;"></div>
                        </div>
                    </div>
                </div>
                
                <div class="options" id="options">
                    <button class="option-btn" onclick="selectAnswer(0)">ì„ íƒì§€ 1</button>
                    <button class="option-btn" onclick="selectAnswer(1)">ì„ íƒì§€ 2</button>
                    <button class="option-btn" onclick="selectAnswer(2)">ì„ íƒì§€ 3</button>
                    <button class="option-btn" onclick="selectAnswer(3)">ì„ íƒì§€ 4</button>
                </div>
                
                <div style="margin-top: 30px;">
                    <button class="btn btn--secondary" onclick="goToMain()">ë©”ì¸ìœ¼ë¡œ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- í”¼ë“œë°± í™”ë©´ -->
    <div id="feedbackScreen" class="screen">
        <div class="container">
            <div class="feedback-content">
                <div class="feedback-result" id="feedbackResult">
                    <div class="result-icon" id="resultIcon">âœ…</div>
                    <div class="result-text" id="resultText">ì •ë‹µì…ë‹ˆë‹¤!</div>
                    <div class="result-details" id="resultDetails">ì •ë‹µ: ìºë¦­í„° ì´ë¦„</div>
                </div>
                <button class="btn" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ</button>
                <button class="btn btn--secondary" onclick="goToMain()">ë©”ì¸ìœ¼ë¡œ</button>
            </div>
        </div>
    </div>

    <!-- ê²°ê³¼ í™”ë©´ -->
    <div id="resultScreen" class="screen">
        <div class="container">
            <div class="result-content">
                <h2>ğŸ‰ í€´ì¦ˆ ì™„ë£Œ! ğŸ‰</h2>
                <div class="final-score">
                    <div class="score-display">
                        <span class="score-number" id="finalScore">0</span> / 10
                    </div>
                    <div class="score-grade" id="scoreGrade">ë“±ê¸‰</div>
                </div>
                <div class="result-buttons">
                    <button class="btn" onclick="restartGame()">ë‹¤ì‹œí•˜ê¸°</button>
                    <button class="btn btn--secondary" onclick="goToMain()">ë©”ì¸ìœ¼ë¡œ</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ë‚˜ë¬´ìœ„í‚¤ì—ì„œ ê°€ì ¸ì˜¨ ì‹¤ì œ ì´ë¯¸ì§€ URLì„ í¬í•¨í•œ ê²Œì„ ë°ì´í„° (ëª¨ë“  ìºë¦­í„° ì‹¤ì œ ì´ë¯¸ì§€ ì ìš©)
        const characters = [
            {
                name: "íŠ¸ë„ë„ë ˆë¡œ íŠ¸ë„ë„ë¼",
                englishName: "Tralalero Tralala",
                description: "ë‚˜ì´í‚¤ ìš´ë™í™”ë¥¼ ì‹ ê³  í•´ë³€ ìœ„ì— ë‚˜ì™€ ìˆëŠ” ë‹¤ë¦¬ê°€ 3ê°œì¸ ìƒì–´ ìºë¦­í„°ì´ë‹¤.",
                abilities: "ì´ˆì¸ì ì¸ ì†ë„ë¡œ ë‹¬ë¦´ ìˆ˜ ìˆê³  ë©€ë¦¬ ë›¸ ìˆ˜ ìˆëŠ” ìš´ë™ ëŠ¥ë ¥",
                characteristics: "ìš´ë™ì„ í™”ë¥¼ ì°©ìš©í•œ ë…íŠ¹í•œ ìƒì–´",
                type: "ìƒì–´",
                emoji: "ğŸ¦ˆğŸ‘Ÿ",
                imageUrl: "https://i.namu.wiki/i/GfZFi0J9-qqF9cKXfjMIIZy0dpu1XaGXLmj39SHBmeDe1Ef68d_QpAUp1CtKA8A3HiQagy4zrOI4YOAdpI0s0ZXIB2q1Lnug7BNuJSiam50XcTPizVtI65LuIjuLYQJjxfLJ9iSrWDI2At-tTE5dIw.webp"
            },
            {
                name: "ë´„ë°”ë¥´ë””ë¡œ í¬ë¡œì½”ë”œë¡œ",
                englishName: "Bombardiro Crocodilo",
                description: "í­ê²©ê¸°ì™€ ì•…ì–´ì˜ í˜•ìƒì„ í•©ì¹œ ìºë¦­í„°",
                abilities: "í­ê²©ì„ ì£¼ ë¬´ê¸°ë¡œ ì‚¬ìš©í•˜ë©° ë¹„í–‰ ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆìŒ",
                characteristics: "ì œ2ì°¨ ì„¸ê³„ ëŒ€ì „ ì‹œëŒ€ì˜ ìŒë°œ í­ê²©ê¸° ëª¸ì²´ì™€ ì•…ì–´ ë¨¸ë¦¬",
                type: "ì•…ì–´-í­ê²©ê¸°",
                emoji: "ğŸŠâœˆï¸",
                imageUrl: "https://i.namu.wiki/i/JH7BXUlBkhL-qEecOmp_dWF4xt3L6pAEQ-kBZyuWyEDKg3IvrjwdZko0OakGczZW8oEi0js2K5COLyEOWlijfe_gC4Gvtqhtq8kwh8gYcVHnoTZI7N87UZehxhxY_1TB36HDChc50hrbXrGz6LhQug.webp"
            },
            {
                name: "í‰í‰í‰ ì‚¬í›„ë¥´",
                englishName: "Tung Tung Tung Sahur",
                description: "ì•¼êµ¬ë°©ë§ì´ë¥¼ ë“  ì˜ì¸í™”ëœ ë‚˜ë¬´ ë¬¼ì²´",
                abilities: "ì„¸ê³„ê´€ ìµœê°•ì˜ ê°•ìë¡œ ì—¬ê²¨ì§",
                characteristics: "ì¸ë””ì–¸ í´ëŸ½ì´ë‚˜ ë² ë‘‘ ë“œëŸ¼ê³¼ ìœ ì‚¬í•œ í˜•íƒœ",
                type: "ë‚˜ë¬´ ìºë¦­í„°",
                emoji: "ğŸŒ³âš¾",
                imageUrl: "https://i.namu.wiki/i/JztewMrQhdJWj2XU1DZNEIzOLT9jlayeTYMVaubYeyrajPjf6t7CUnlndYukaKpYl1rvLPK0hiUFNGmAdwe9J20sFTWdB95n4b9M4uqor7aEHZJDBcBkbSWO97rnlypmfJdTwTu3BzA8AlQC9uUigQ.webp"
            },
            {
                name: "ë°œë ˆë¦¬ë‚˜ ì¹´í‘¸ì¹˜ë‚˜",
                englishName: "Ballerina Cappuccina",
                description: "íŠ€íŠ€ë¥¼ ì…ê³  í‘¸ì•µíŠ¸ ìŠˆì¦ˆë¥¼ ì‹ ì€ ë°œë ˆë¦¬ë‚˜",
                abilities: "ìš°ì•„í•œ í”¼ë£¨ì—íŠ¸ë¥¼ í•  ìˆ˜ ìˆìŒ",
                characteristics: "ë¨¸ë¦¬ê°€ ì¹´í‘¸ì¹˜ë…¸ ì”ì¸ ë°œë ˆë¦¬ë‚˜",
                type: "ë°œë ˆë¦¬ë‚˜",
                emoji: "ğŸ’ƒâ˜•",
                imageUrl: "https://i.namu.wiki/i/giAzfdYXN-MGzzE3xFervbvELFwT9GrgFZlW1pb0Jdc982p69HrQ4Lwvr4Fvnw0x60tN6ZSG6zmyFtJeWTbmqMcHAe7uX_UCdkoOshxYTdgb8ZvlrdmTnreApoulUchZNgNXoz529xgcSLIjFJrPuA.webp"
            },
            {
                name: "ë¸Œë¥´ë¥´ ë¸Œë¥´ë¥´ íŒŒíƒ€í•Œ",
                englishName: "Brr Brr Patapim",
                description: "ë‚˜ë¬´ì™€ ì½”ì£¼ë¶€ì›ìˆ­ì´, ì‚¬ëŒ ë°œì´ ê²°í•©ëœ ìºë¦­í„°",
                abilities: "ìˆ²ì˜ í‰í™”ë¥¼ ìˆ˜í˜¸í•˜ì§€ë§Œ ì¹¨ì…ìì—ê²ŒëŠ” ìë¹„ê°€ ì—†ìŒ",
                characteristics: "ì‹ ë¹„ë¡œìš´ ì´íƒˆë¦¬ì•ˆ ì›ìˆ­ì´",
                type: "ì›ìˆ­ì´",
                emoji: "ğŸµğŸŒ¿",
                imageUrl: "https://i.namu.wiki/i/jVdeCgbectSKkyWf1i9mJvEBZYVRfTmkK5ufblNA96Gl9RHwMNip_fqlVqB31uNaEWQh0ULu2jl8Ywu8cDOcmlBPeh8bl99_KsbUe5eeOc858k5SQ2Itt1gONmu7WPK173-HAxL8-6fiqDBfNGVqTA.webp"
            },
            {
                name: "ì¹´í‘¸ì¹˜ë…¸ ì•„ì‚¬ì‹œë…¸",
                englishName: "Cappuccino Assassino",
                description: "ì¹´í‘¸ì¹˜ë…¸ ë¨¸ë¦¬ë¥¼ ê°€ì§„ ì•”ì‚´ì",
                abilities: "ë²ˆê°œì²˜ëŸ¼ ë¹ ë¥´ê³  ì¹˜ëª…ì ì´ë©° ì¹´í˜ì¸ê³¼ ë³µìˆ˜ì‹¬ìœ¼ë¡œ ì›€ì§ì„",
                characteristics: "ì¹´í‘¸ì¹˜ë…¸ë¥¼ ë¨¸ë¦¬ë¡œ í•˜ê³  ì¹¼ì„ íŒ”ë¡œ í•œ ì•”ì‚´ì",
                type: "ì•”ì‚´ì",
                emoji: "â˜•ğŸ—¡ï¸",
                imageUrl: "https://i.namu.wiki/i/ViGDYRhwr7-v0j64T1ZeAB2L0YJlFsxVQuNlSa-5JghAnt-qmahsRhvw7KAXX3FjO_GYdIFnpasiR4QRJHo7bJHRKSFG76BNMIwLfveoWCV7gXsFdW5Y2e75M7DF8BcC29wr9QDNBdm2s4whdFasPA.webp"
            },
            {
                name: "ì¹¨íŒ¬ì§€ë‹ˆ ë°”ë‚˜ë‹ˆë‹ˆ",
                englishName: "Chimpanzini Bananini",
                description: "ë°”ë‚˜ë‚˜ë¥¼ ëª¸ìœ¼ë¡œ í•œ ì›ìˆ­ì´",
                abilities: "ë¶ˆë©¸ì˜ ì¡´ì¬ë¡œ ì—¬ê²¨ì§",
                characteristics: "ì¥ë¥´ì˜ ì£¼ìš” ìºë¦­í„° ì¤‘ í•˜ë‚˜",
                type: "ì›ìˆ­ì´",
                emoji: "ğŸ’ğŸŒ",
                imageUrl: "https://i.namu.wiki/i/d-e5x--pUbVOuskOSZg6OMil2WNhj9tn8Mkb-fcCdrQEyfRmIfqVoQZSrcY9YKrFoPXRWw4xtujVs9AR72R-Vl0IRV-065cYfQm8OwVHtvOza-EPoSDw6uXByikfFXOjvbFlmLpWavMuuMehhXShtw.webp"
            },
            {
                name: "ë¦¬ë¦´ë¦¬ ë¼ë¦´ë¼",
                englishName: "Lirili Larila",
                description: "ìƒŒë“¤ì„ ì‹ ì€ ì„ ì¸ì¥-ì½”ë¼ë¦¬ í•˜ì´ë¸Œë¦¬ë“œ",
                abilities: "ì‹œê°„ì„ ì¡°ì¢…í•˜ëŠ” ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆìŒ",
                characteristics: "ë‘ ë°œë¡œ ê±·ëŠ” ì„ ì¸ì¥-ì½”ë¼ë¦¬ í•©ì„±ì²´",
                type: "ì„ ì¸ì¥-ì½”ë¼ë¦¬",
                emoji: "ğŸŒµğŸ˜",
                imageUrl: "https://i.namu.wiki/i/51qmy5mgkHUzwNz-dXIY2vGGkRvHtD3MsVeR8-bM3MHS_Qn2uU4ANmpGwoMH6AVzOD6VooXtHvXvBNutzmCTBB_4_n7J7HwIW7cRhMD7M0lbqlCRvBOilj8GQWSPn9jXU2IFj_EQj5Z6kqAaCnPA_g.webp"
            },
            {
                name: "í”„ë¦¬ê³  ì¹´ë©œë¡œ",
                englishName: "Frigo Camelo",
                description: "ëª¸í†µì´ ëƒ‰ì¥ê³ ì´ê³  í° ë¶€ì¸ ë¥¼ ì‹ ì€ ë‚™íƒ€",
                abilities: "ì–¼ìŒ ê´€ë ¨ ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆì„ ê²ƒìœ¼ë¡œ ì¶”ì •",
                characteristics: "ëƒ‰ì¥ê³ ì™€ ë‚™íƒ€ì˜ í•©ì„±ì²´",
                type: "ë‚™íƒ€-ëƒ‰ì¥ê³ ",
                emoji: "ğŸªâ„ï¸",
                imageUrl: "https://i.namu.wiki/i/6149Y5gmbJrgRpAnfeS9CiVCdrE4P1P5HzYizvJ_b52KE2sMZKexxNmR4q37PF-gSTJSqvdS2AKerAUoUav4qZ7A64U8OoyNh1A4yGhnOgwPwOLFIiYHHIZDhQl4DVYuIAprkoxRGoIzF6IeQSs4_A.webp"
            },
            {
                name: "íŠ¸ë¦¬í”¼ íŠ¸ë¡œí”¼",
                englishName: "Trippi Troppi",
                description: "ìƒˆìš° ëª¸ì„ ê°€ì§„ ê³ ì–‘ì´ ë˜ëŠ” ë¬¼ê³ ê¸° ë¨¸ë¦¬ë¥¼ ê°€ì§„ ë¹„ë§Œ ê³°",
                abilities: "ë°”ë‹¤ì˜ ì™•ìœ¼ë¡œ ë¶ˆë¦¼",
                characteristics: "ë‘ ê°€ì§€ ë²„ì „ìœ¼ë¡œ ì¡´ì¬í•˜ëŠ” ìºë¦­í„°",
                type: "ê³ ì–‘ì´-ìƒˆìš° ë˜ëŠ” ê³°-ë¬¼ê³ ê¸°",
                emoji: "ğŸ¦ğŸ±",
                imageUrl: "https://i.namu.wiki/i/HbHAtrrKugsqsgaJfIz3W3w2PIi40-gn93uqWYhly_0CqNrffy0xb9We8ZLKakIoUR05gYHDrRIl_qLXjXxN4Z3y7jIy0nC7eOCFpO-vjIdfm8K_Sa7Se5tl9ycRDXx_6OsjHXzpMdYvecB5NKJpWw.webp"
            }
        ];

        const fakeCharacters = [
            "í”¼ìë¦¬ë‹ˆ ë§ˆë¥´ê²Œë¦¬íƒ€",
            "ìŠ¤íŒŒê²Œí‹°ì˜¤ ì¹´ë¥´ë³´ë‚˜ë¡œ",
            "ì ¤ë¼í† ë¦¬ë…¸ ë°”ë‹ë¼ë¡œ",
            "ë¼ìëƒë¸ë¡œ ë³¼ë¡œë…œì„¸",
            "ë¦¬ì¡°ë˜ë¦¬ë‹ˆ íŒŒë¥´ë¯¸ì§€ì•„ë…¸",
            "í‹°ë¼ë¯¸ìˆ˜ë¡œ ë§ˆìŠ¤ì¹´ë¥´í¬ë„¤",
            "ì¹¸ë†€ë¦¬ë‹ˆ ì‹œì¹ ë¦¬ì•„ë…¸",
            "íŒŒë„¤í† ë„¤ë¡œ ë°€ë¼ë…¸ë¡œ"
        ];

        // ê²Œì„ ìƒíƒœ
        let currentGameMode = 'text';
        let currentQuestionIndex = 0;
        let currentScore = 0;
        let questions = [];
        let selectedAnswer = null;
        let currentCharacter = null;

        // í™”ë©´ ì „í™˜ í•¨ìˆ˜
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        // ê²Œì„ ëª¨ë“œ ì„ íƒ
        function selectGameMode(mode) {
            currentGameMode = mode;
            generateQuestions();
            startQuiz();
        }

        // ë¬¸ì œ ìƒì„±
        function generateQuestions() {
            questions = [];
            const shuffledCharacters = [...characters].sort(() => Math.random() - 0.5);

            for (let i = 0; i < 10; i++) {
                const character = shuffledCharacters[i % shuffledCharacters.length];
                const question = createQuestion(character);
                questions.push(question);
            }
        }

        // ë¬¸ì œ ìƒì„± í•¨ìˆ˜
        function createQuestion(character) {
            const questionTypes = ['description', 'abilities', 'characteristics', 'english'];
            const randomType = questionTypes[Math.floor(Math.random() * questionTypes.length)];

            let questionText = '';
            let correctAnswer = character.name;

            switch (randomType) {
                case 'description':
                    questionText = `ë‹¤ìŒ ì„¤ëª…ì— í•´ë‹¹í•˜ëŠ” ìºë¦­í„°ëŠ”? "${character.description}"`;
                    break;
                case 'abilities':
                    questionText = `ë‹¤ìŒ ëŠ¥ë ¥ì„ ê°€ì§„ ìºë¦­í„°ëŠ”? "${character.abilities}"`;
                    break;
                case 'characteristics':
                    questionText = `ë‹¤ìŒ íŠ¹ì§•ì„ ê°€ì§„ ìºë¦­í„°ëŠ”? "${character.characteristics}"`;
                    break;
                case 'english':
                    questionText = `"${character.englishName}"ì˜ í•œêµ­ì–´ ì´ë¦„ì€?`;
                    break;
            }

            // ì„ íƒì§€ ìƒì„±
            const wrongAnswers = characters
                .filter(c => c.name !== character.name)
                .sort(() => Math.random() - 0.5)
                .slice(0, 3)
                .map(c => c.name);

            const options = [correctAnswer, ...wrongAnswers].sort(() => Math.random() - 0.5);

            return {
                type: randomType,
                text: questionText,
                character: character,
                options: options,
                correctAnswer: correctAnswer,
                correctIndex: options.indexOf(correctAnswer)
            };
        }

        // í€´ì¦ˆ ì‹œì‘
        function startQuiz() {
            currentQuestionIndex = 0;
            currentScore = 0;
            selectedAnswer = null;
            showScreen('quizScreen');
            displayQuestion();
        }

        // ë¬¸ì œ í‘œì‹œ
        function displayQuestion() {
            const question = questions[currentQuestionIndex];
            currentCharacter = question.character;
            
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('currentScore').textContent = currentScore;
            document.getElementById('progressFill').style.width = `${((currentQuestionIndex + 1) / 10) * 100}%`;

            document.getElementById('quizType').textContent = getQuizTypeTitle(question.type);
            document.getElementById('questionText').textContent = question.text;

            // ì´ë¯¸ì§€ ì»¨í…Œì´ë„ˆë“¤ ì´ˆê¸°í™”
            document.getElementById('questionEmojiImage').style.display = 'none';
            document.getElementById('questionRealImage').style.display = 'none';
            document.getElementById('imageError').style.display = 'none';

            // ëª¨ë“œë³„ ì´ë¯¸ì§€ ì²˜ë¦¬
            if (currentGameMode === 'emoji') {
                // ê·¸ë¦¼ ì—°ìƒ ë²„ì „ (ì´ëª¨ì§€)
                document.getElementById('questionEmojiImage').style.display = 'block';
                document.getElementById('characterEmoji').textContent = question.character.emoji;
            } else if (currentGameMode === 'image') {
                // ì‹¤ì œ ê·¸ë¦¼ ë²„ì „ (ì´ë¯¸ì§€)
                document.getElementById('questionRealImage').style.display = 'block';
                const characterImage = document.getElementById('characterImage');
                
                characterImage.src = question.character.imageUrl;
                characterImage.style.display = 'block';
            }

            // ì„ íƒì§€ í‘œì‹œ
            const optionButtons = document.querySelectorAll('.option-btn');
            question.options.forEach((option, index) => {
                optionButtons[index].textContent = option;
                optionButtons[index].className = 'option-btn';
                optionButtons[index].disabled = false;
            });

            selectedAnswer = null;
        }

        // ì´ë¯¸ì§€ ë¡œë”© ì„±ê³µ
        function imageLoaded() {
            document.getElementById('imageError').style.display = 'none';
        }

        // ì´ë¯¸ì§€ ë¡œë”© ì‹¤íŒ¨
        function imageError() {
            document.getElementById('characterImage').style.display = 'none';
            document.getElementById('imageError').style.display = 'block';
            document.getElementById('fallbackDescription').textContent = currentCharacter.description;
        }

        // í€´ì¦ˆ íƒ€ì… ì œëª© ë°˜í™˜
        function getQuizTypeTitle(type) {
            const titles = {
                'description': 'ì„¤ëª…ì„ ë³´ê³  ìºë¦­í„° ì´ë¦„ì„ ë§ì¶°ë³´ì„¸ìš”!',
                'abilities': 'ëŠ¥ë ¥ì„ ë³´ê³  ìºë¦­í„°ë¥¼ ë§ì¶°ë³´ì„¸ìš”!',
                'characteristics': 'íŠ¹ì§•ì„ ë³´ê³  ìºë¦­í„°ë¥¼ ë§ì¶°ë³´ì„¸ìš”!',
                'english': 'ì˜ì–´ ì´ë¦„ì— í•´ë‹¹í•˜ëŠ” í•œêµ­ì–´ ì´ë¦„ì„ ê³ ë¥´ì„¸ìš”!',
                'emoji': 'ì´ëª¨ì§€ë¥¼ ë³´ê³  ìºë¦­í„° ì´ë¦„ì„ ë§ì¶°ë³´ì„¸ìš”!',
                'image': 'ê·¸ë¦¼ì„ ë³´ê³  ìºë¦­í„° ì´ë¦„ì„ ë§ì¶°ë³´ì„¸ìš”!'
            };

            if (currentGameMode === 'emoji') {
                return 'ì´ëª¨ì§€ë¥¼ ë³´ê³  ìºë¦­í„° ì´ë¦„ì„ ë§ì¶°ë³´ì„¸ìš”!';
            } else if (currentGameMode === 'image') {
                return 'ê·¸ë¦¼ì„ ë³´ê³  ìºë¦­í„° ì´ë¦„ì„ ë§ì¶°ë³´ì„¸ìš”!';
            }
            
            return titles[type] || 'ë¬¸ì œë¥¼ í’€ì–´ë³´ì„¸ìš”!';
        }

        // ë‹µì•ˆ ì„ íƒ
        function selectAnswer(index) {
            if (selectedAnswer !== null) return;

            selectedAnswer = index;
            const question = questions[currentQuestionIndex];
            const optionButtons = document.querySelectorAll('.option-btn');

            // ì„ íƒí•œ ë²„íŠ¼ í‘œì‹œ
            optionButtons[index].classList.add('selected');

            // ëª¨ë“  ë²„íŠ¼ ë¹„í™œì„±í™”
            optionButtons.forEach(btn => btn.disabled = true);

            // ì •ë‹µ í‘œì‹œ
            optionButtons[question.correctIndex].classList.add('correct');
            
            // ì˜¤ë‹µì¸ ê²½ìš° í‘œì‹œ
            if (index !== question.correctIndex) {
                optionButtons[index].classList.add('incorrect');
            }

            // ì ì‹œ í›„ í”¼ë“œë°± í™”ë©´ìœ¼ë¡œ ì´ë™
            setTimeout(() => {
                showFeedback(index === question.correctIndex);
            }, 1500);
        }

        // í”¼ë“œë°± í‘œì‹œ
        function showFeedback(isCorrect) {
            const question = questions[currentQuestionIndex];
            
            document.getElementById('resultIcon').textContent = isCorrect ? 'âœ…' : 'âŒ';
            document.getElementById('resultText').textContent = isCorrect ? 'ì •ë‹µì…ë‹ˆë‹¤!' : 'ì˜¤ë‹µì…ë‹ˆë‹¤!';
            document.getElementById('resultDetails').textContent = `ì •ë‹µ: ${question.correctAnswer}`;

            if (isCorrect) {
                currentScore++;
            }

            showScreen('feedbackScreen');
        }

        // ë‹¤ìŒ ë¬¸ì œ
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex >= questions.length) {
                showResults();
            } else {
                showScreen('quizScreen');
                displayQuestion();
            }
        }

        // ê²°ê³¼ í‘œì‹œ
        function showResults() {
            document.getElementById('finalScore').textContent = currentScore;
            
            let grade = '';
            if (currentScore >= 9) grade = 'ğŸ† ë¸Œë ˆì¸ë¡¯ ë§ˆìŠ¤í„°!';
            else if (currentScore >= 7) grade = 'ğŸ¥‡ ë¸Œë ˆì¸ë¡¯ ì „ë¬¸ê°€!';
            else if (currentScore >= 5) grade = 'ğŸ¥ˆ ë¸Œë ˆì¸ë¡¯ ì• í˜¸ê°€!';
            else if (currentScore >= 3) grade = 'ğŸ¥‰ ë¸Œë ˆì¸ë¡¯ ì…ë¬¸ì!';
            else grade = 'ğŸ“š ë” ê³µë¶€í•´ë³´ì„¸ìš”!';

            document.getElementById('scoreGrade').textContent = grade;
            showScreen('resultScreen');
        }

        // ê²Œì„ ì¬ì‹œì‘
        function restartGame() {
            selectGameMode(currentGameMode);
        }

        // ë©”ì¸ìœ¼ë¡œ
        function goToMain() {
            showScreen('mainScreen');
        }
    </script>
</body>
</html>